(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{576:function(e,t,a){"use strict";a.r(t);var n=a(78),r=a(50),s=a.n(r),o=a(79),i=a(23),c=a(24),l=a(26),u=a(25),d=a(27),m=a(1),g=a.n(m),p=(a(504),a(505),a(506),a(507),a(579)),y=a(580),h=a(581),f=a(488),C=a(583),b=a(575),v=a(585),E=a(13),w=a(508),k=a.n(w),x=a(487),F=a.n(x);window.$=F.a;var N=p.a.Column,q=(p.a.ColumnGroup,y.a.Item),S=h.a.TabPane,A=f.a.Option,O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getFaq=function(){var e=JSON.stringify({query:"query( $limit:limit,$sort:sort,$search:search ){ getQuestionFAQ( limit:$limit,sort:$sort,search:$search ) { sortableFields,searchableFields,page { items,pageNo,totalPages },data { id,question,answer,created },success,message { path,message } } }",variables:{limit:{to:5,page:1},sort:{field:"",by:""},search:{by:"",text:""}}});fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:e}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:for(o in n=e.sent,r=n.getQuestionFAQ.data)r[o].key=o,r[o].id=o;if(!n.getQuestionFAQ.success){e.next=9;break}a.setState({getFaqData:r}),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},a.addFaq=Object(o.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({query:"mutation($input:faq_inptFields!){ createQuestionFAQ( input:$input ) { success,message { path,message } } }",variables:{input:{question:a.state.addFaqQuestion,answer:a.state.addFaqAnswer,category:a.state.addFaqCategory}}}),e.next=3,fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:t}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log("addFaq: ",a),!a.createQuestionFAQ.success){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),a.success=function(){C.a.success({title:"Success",maskClosable:"false"})},a.openAddFaqModal=function(){var e=Object(o.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({addFaqVisible:!0}),a.removeLicenseByDarwin();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addFaqModal=Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.addFaq();case 2:if(!e.sent){e.next=8;break}a.success(),a.setState({addFaqVisible:!1}),a.getFaq(),e.next=9;break;case 8:C.a.error({title:"This is an error message",maskClosable:"false"});case 9:case"end":return e.stop()}},e,this)})),a.closeAddFaqModal=function(){console.log(document.getElementsByClassName("froala")),a.setState({addFaqVisible:!1})},a.handleChange=function(e){console.log("selected value",e),a.setState({addFaqCategory:e})},a.handleModelChange=function(e){a.setState({addFaqAnswer:e})},a.getCategory=function(){var e=JSON.stringify({query:"query{ getCategoryFAQ { data{id,name,description,created},success,message { path,message } } }"});fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:e}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:for(o in n=e.sent,r=n.getCategoryFAQ.data)r[o].key=o;if(!n.getCategoryFAQ.success){e.next=11;break}a.setState({getCategoryData:r}),console.log("getCategory: ",a.state.getCategoryData),a.setAddFaqSelectDefault(),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},a.addCategory=Object(o.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({query:"mutation($input:categoryName!){ createCategoryFAQ( input:$input ) { success,message { path,message } } }",variables:{input:{name:a.state.addCategoryName,description:a.state.addCategoryDescription}}}),e.next=3,fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:t}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log(a),!a.createCategoryFAQ.success){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),a.editCategory=Object(o.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({query:"mutation($input:updateCategoryName!){ updateCategoryFAQ( input:$input ) { success,message { path,message } } }",variables:{input:{id:a.state.editCategoryId,name:a.state.editCategoryName,description:a.state.editCategoryDescription}}}),e.next=3,fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:t}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log(a),!a.updateCategoryFAQ.success){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),a.deleteCategory=function(){var e=Object(o.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(t),n=JSON.stringify({query:"mutation($input:[String]!){ deleteCategoryFAQ( input:$input ) { success,message { path,message } } }",variables:{input:a}}),e.next=5,fetch("https://api.8uilder.com",{method:"POST",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("session")},body:n}).then(function(){var e=Object(o.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,console.log(a),!a.deleteCategoryFAQ.success){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.success=function(){C.a.success({title:"Success",maskClosable:"false"})},a.openAddCategoryModal=function(){a.setState({addCategoryVisible:!0})},a.openViewCategoryModal=function(){a.setState({viewCategoryVisible:!0})},a.openEditCategoryModal=function(e){a.setState({editCategoryVisible:!0,editCategoryId:e.id,editCategoryName:e.name,editCategoryDescription:e.description})},a.closeAddCategoryModal=function(){a.setState({addCategoryVisible:!1})},a.closeViewCategoryModal=function(){a.setState({viewCategoryVisible:!1})},a.closeEditCategoryModal=function(){a.setState({editCategoryVisible:!1})},a.addCategoryModal=Object(o.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.addCategory();case 2:if(!e.sent){e.next=12;break}return a.success(),a.setState({addCategoryVisible:!1}),e.next=7,document.getElementsByClassName("addCategoryInput");case 7:for(t=e.sent,n=0;n<t.length;n++)t[n].children[1].value="";a.getCategory(),e.next=13;break;case 12:C.a.error({title:"This is an error message",maskClosable:"false"});case 13:case"end":return e.stop()}},e,this)})),a.editCategoryModal=Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.editCategory();case 2:if(!e.sent){e.next=8;break}a.success(),a.setState({editCategoryVisible:!1}),a.getCategory(),e.next=9;break;case 8:C.a.error({title:"This is an error message",maskClosable:"false"});case 9:case"end":return e.stop()}},e,this)})),a.deleteCategoryModal=function(){var e=Object(o.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.deleteCategory(t.id);case 2:if(!e.sent){e.next=7;break}a.success(),a.getCategory(),e.next=8;break;case 7:C.a.error({title:"This is an error message",maskClosable:"false"});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.setAddFaqSelectDefault=function(){console.log(a.state.getCategoryData),a.state.getCategoryData.length>0?a.setState({selectCategoryDefault:a.state.getCategoryData[0].name,addFaqCategory:a.state.getCategoryData[0].name}):a.setState({selectCategoryDefault:"Empty"})},a.removeLicenseByDarwin=Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F()(".fr-tooltip").hover(function(){alert("asdas"),F()(this).find("a").remove()});case 1:case"end":return e.stop()}},e,this)})),a.onChange=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.callback=function(e){},a.state={addFaqVisible:!1,addCategoryVisible:!1,editCategoryVisible:!1,viewCategoryVisible:!1,addCategoryName:null,addCategoryDescription:null,editCategoryName:null,editCategoryId:null,editCategoryDescription:null,getFaqData:[],getCategoryData:[],addFaqQuestion:null,addFaqAnswer:"Type Something",addFaqCategory:null,selectCategoryDefault:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getFaq(),this.getCategory(),F()(".fr-tooltip").on("click",function(){alert("asdas")}),F()(".fr-tooltip").on("change",function(){alert("asdasaaa")})}},{key:"componentDidMount",value:function(){F()(".fr-tooltip").on("change",function(){alert("asabbbb")}),F()(".fr-tooltip").on("click",function(){alert("abbbasdas")})}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"faqAndCategory"},g.a.createElement(h.a,{defaultActiveKey:"1",onChange:function(t){return e.callback=t}},g.a.createElement(S,{tab:"FAQ",key:"1"},g.a.createElement("div",{className:"roleComponent"},g.a.createElement("h1",null,"FAQ"),g.a.createElement("div",{className:"row",style:{marginBottom:"10px"}},g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"},g.a.createElement("button",{className:"btn btn-sm btn-primary",style:{float:"right"},onClick:this.openAddFaqModal},"Create FAQ"))),g.a.createElement(p.a,{dataSource:this.state.getFaqData},g.a.createElement(N,{title:"Date Created",dataIndex:"created"}),g.a.createElement(N,{title:"Questions",dataIndex:"question"}),g.a.createElement(N,{title:"Answer",dataIndex:"answer"}),g.a.createElement(N,{title:"Action",key:"action",render:function(t,a){return g.a.createElement("span",null,g.a.createElement("a",{href:"#",onClick:function(){return e.openeditRolesModal(a)}},"Edit"),g.a.createElement(b.a,{type:"vertical"}),g.a.createElement("a",{href:"#",onClick:function(){return e.deleteRolesModal(a)}},"Delete"),g.a.createElement(b.a,{type:"vertical"}),g.a.createElement("a",{href:"#",onClick:function(){return e.openSetRolesModal(a)}},"Set"))}})),g.a.createElement("div",{className:"Modal"},g.a.createElement(C.a,{title:"Create FAQ",width:"1000px",visible:this.state.addFaqVisible,onOk:this.addFaqModal,onCancel:this.closeAddFaqModal,maskClosable:!1},g.a.createElement("div",null,g.a.createElement(y.a,{className:"login-form"},g.a.createElement(q,null,g.a.createElement(v.a,{prefix:g.a.createElement(E.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Faq Question",onChange:this.onChange,name:"addFaqQuestion"})),g.a.createElement("div",{className:"select"},g.a.createElement(f.a,{defaultValue:this.state.selectCategoryDefault,style:{width:"100%"},onChange:this.handleChange},this.state.getCategoryData.map(function(e,t){return g.a.createElement(A,{key:e.name+t,value:e.name},e.name)}))),g.a.createElement("div",{className:"froala"},g.a.createElement("div",{style:{width:"800",margin:"20px auto"}},g.a.createElement(k.a,{tag:"textarea",config:this.config,model:this.state.addFaqAnswer,onModelChange:this.handleModelChange}))))))))),g.a.createElement(S,{tab:"Category",key:"2"},g.a.createElement("div",{className:"roleComponent"},g.a.createElement("h1",null,"Category"),g.a.createElement("div",{className:"row",style:{marginBottom:"10px"}},g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"}),g.a.createElement("div",{className:"col-sm-3"},g.a.createElement("button",{className:"btn btn-sm btn-primary",style:{float:"right"},onClick:this.openAddCategoryModal},"Create Category"))),g.a.createElement(p.a,{dataSource:this.state.getCategoryData},g.a.createElement(N,{title:"Date Created",dataIndex:"created"}),g.a.createElement(N,{title:"Name",dataIndex:"name"}),g.a.createElement(N,{title:"Description",dataIndex:"description"}),g.a.createElement(N,{title:"Action",key:"action",render:function(t,a){return g.a.createElement("span",null,g.a.createElement("a",{href:"#",onClick:function(){return e.openEditCategoryModal(a)}},"Edit"),g.a.createElement(b.a,{type:"vertical"}),g.a.createElement("a",{href:"#",onClick:function(){return e.deleteCategoryModal(a)}},"Delete"),g.a.createElement(b.a,{type:"vertical"}),g.a.createElement("a",{href:"#",onClick:function(){return e.openViewCategoryModal(a)}},"View"))}})),g.a.createElement("div",{className:"Modal"},g.a.createElement(C.a,{title:"Add Category",visible:this.state.addCategoryVisible,onOk:this.addCategoryModal,onCancel:this.closeAddCategoryModal,maskClosable:!1},g.a.createElement("div",null,g.a.createElement(y.a,{className:"add-form"},g.a.createElement(q,null,g.a.createElement(v.a,{prefix:g.a.createElement(E.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Category Name",className:"addCategoryInput",onChange:this.onChange,name:"addCategoryName"})),g.a.createElement(q,null,g.a.createElement(v.a,{prefix:g.a.createElement(E.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Category Description",className:"addCategoryInput",onChange:this.onChange,name:"addCategoryDescription"}))))),g.a.createElement(C.a,{title:"Edit Category",visible:this.state.editCategoryVisible,onOk:this.editCategoryModal,onCancel:this.closeEditCategoryModal,maskClosable:!1},g.a.createElement("div",null,g.a.createElement(y.a,{className:"edit-form"},g.a.createElement(q,null,g.a.createElement(v.a,{prefix:g.a.createElement(E.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Category Name",className:"editCategoryInput",onChange:this.onChange,name:"editCategoryName",value:this.state.editCategoryName})),g.a.createElement(q,null,g.a.createElement(v.a,{prefix:g.a.createElement(E.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Category Description",className:"editCategoryInput",onChange:this.onChange,name:"editCategoryDescription",value:this.state.editCategoryDescription}))))),g.a.createElement(C.a,{title:"View Category",visible:this.state.viewCategoryVisible,onOk:this.closeViewCategoryModal,onCancel:this.closeViewCategoryModal,maskClosable:!0},g.a.createElement("div",null,g.a.createElement("h1",null,"VIEW"))))))),",")}}]),t}(m.Component);t.default=O}}]);
//# sourceMappingURL=7.25ad15c7.chunk.js.map